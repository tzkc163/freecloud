name: Scheduleæµ‹è¯• (Mainåˆ†æ”¯)
# æµ‹è¯•æ—¶é—´: 2025-06-21 - æµ‹è¯•scheduleè§¦å‘å™¨åœ¨é»˜è®¤åˆ†æ”¯çš„è¡Œä¸º

on:
  workflow_dispatch:
    inputs:
      force_run:
        description: 'è·³è¿‡å»¶è¿Ÿæ‰§è¡Œ'
        required: false
        default: true
        type: boolean
  schedule:
    - cron: "*/5 * * * *"  # æµ‹è¯•ï¼šæ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºéªŒè¯scheduleè§¦å‘å™¨è¡Œä¸º
  # ç§»é™¤pushå’Œpull_requestè§¦å‘å™¨ï¼Œåªä¿ç•™æ‰‹åŠ¨è§¦å‘å’Œå®šæ—¶è§¦å‘
  # push:
  #   branches: [ main ]
  # pull_request:
  #   branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    # å…è®¸æ‰‹åŠ¨æ‰§è¡Œå’Œå®šæ—¶æ‰§è¡Œ
    if: github.event_name == 'workflow_dispatch' || (github.event_name == 'schedule' && github.ref == 'refs/heads/main')

    steps:
      - name: æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
        with:
          ref: main  # å¼ºåˆ¶æ£€å‡ºmainåˆ†æ”¯

      - name: æµ‹è¯•æ¨¡å¼ - Mainåˆ†æ”¯æµ‹è¯•
        run: echo "ğŸ§ª Mainåˆ†æ”¯æµ‹è¯•ï¼šè·³è¿‡ç¯å¢ƒè®¾ç½®"

      - name: æµ‹è¯•æ¨¡å¼ - è·³è¿‡å»¶è¿Ÿ
        run: echo "ğŸ§ª Mainåˆ†æ”¯æµ‹è¯•ï¼šè·³è¿‡å»¶è¿Ÿæ­¥éª¤"

      - name: Mainåˆ†æ”¯ - Scheduleè§¦å‘å™¨æµ‹è¯•
        run: |
          echo "ğŸ§ª Mainåˆ†æ”¯æµ‹è¯•ï¼šScheduleè§¦å‘å™¨éªŒè¯"
          echo "â° è§¦å‘æ—¶é—´ï¼š$(date)"
          echo "ğŸ”§ äº‹ä»¶ç±»å‹ï¼š${{ github.event_name }}"
          echo "ğŸŒ¿ åˆ†æ”¯ï¼š${{ github.ref }}"
          echo "âœ… Mainåˆ†æ”¯å·¥ä½œæµæˆåŠŸè¿è¡Œ"
          echo "ğŸ¯ è¿™è¯æ˜scheduleè§¦å‘å™¨åœ¨é»˜è®¤åˆ†æ”¯(main)ä¸Šå·¥ä½œ"
